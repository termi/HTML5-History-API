/*Copyright 2011-2013, Dmitriy Pakhtinov ( spb.piksel@gmail.com ) and github.com/termi */
void function(){var k=void 0,q=null,r=!1;function G(a){if(!a.__history_shim__){var m=e();if(z)return A=m.a,z=0;var c=a.oldURL||A;a=A=a.newURL||m.a;var m=c.replace(/^.*?(#|$)/,""),b=a.replace(/^.*?(#|$)/,"");c!=a&&!B&&t(k);s=B=0;m!=b&&t(2,c,a)}}function T(a){var m=a||r,c=m.target||r;a=m.defaultPrevented;if(c&&("A"===c.nodeName&&!a)&&(a=e(c.getAttribute("href",2),!0),a.b&&"#"!==a.b&&a.b===a.a.replace(e().a.split("#").shift(),""))){history.location.hash=a.b;a=a.b.replace(/^#/,"");if((c=document.getElementById(a))&&c.id===a&&
"A"===c.nodeName)c=c.getBoundingClientRect(),window.scrollTo(documentElement.scrollLeft||0,c.top+(documentElement.scrollTop||0)-(documentElement.clientTop||0));m.preventDefault()}}function H(a){s===b.href&&(a.stopImmediatePropagation?a.stopImmediatePropagation():a.stopPropagation(),s=0);d.removeEventListener("popstate",H,r)}function t(a,m,c){var b=new u(2==a?"hashchange":3==a?"pagechange":"popstate");m!=k&&(b.oldUrl=m);c!=k&&(b.newUrl=c);b.__history_shim__=!0;if(!n&&a==k&&d.onpopstate)d.onpopstate(b);
d.dispatchEvent(b)}function C(a){return w?a?w.setItem("__hitoryapi__",U(a)):V(w.getItem("__hitoryapi__"))||{}:{}}function x(a,b,c){try{if(1!==Object.defineProperty({},"t",{get:function(){return 1}}).t)throw Error;Object.defineProperties(a,b)}catch(d){if(a.__defineGetter__)for(var e in b)W(b,e)&&(a.__defineGetter__(e,b[e].get),b[e].set&&a.__defineSetter__(e,b[e].set));if(c)return r}return a}var d=this,f=d.JSON||{},I=document,u=d.j,W=(Function.prototype.bind||r).call(Function.prototype.call,Object.prototype.hasOwnProperty),
h=d.history||{},b=d.location,n="pushState"in h,X=n&&h.state===k,s=b.href,J=h.pushState,K=h.replaceState,V=f.parse,U=f.stringify,w=d.sessionStorage,L=k,f=k,z=0,Y=/[^\/]+$/g,M=location.pathname.split("#")[0].split("?")[0],e,g=I.createElement("a"),N,D,O,E,y,v,l,Z=/^[^#]*/,$=/^(?:[a-z]+\:)?\/\//;e=function(a,d){if(a){if(!n||L){var c=e(),f=c.e,p=c.i,j=a.charAt(0);a=$.test(a)?"/"==j?p+a:a:p+"//"+c.h+("/"==j?a:"?"==j?f+a:"#"==j?f+c.f+a:f.replace(Y,"")+a)}}else if(a=b.href,!n||d)a=b.protocol+"//"+b.host+
(-1!=a.indexOf("#")?"/":M)+(a.replace(Z,"")||"#").replace(/^#[\/]?(?:\/)?/,"");if(N!==a){g.href=N=a;v=g.port;y=g.host;l=g.pathname;if("http:"===g.protocol&&80==v||"https:"===g.protocol&&443==v)y=g.hostname,v="";l="/"==l.charAt(0)?l:"/"+l;D=l+g.search+g.hash;E=l+g.search;O=E+g.hash}return{a:g.protocol+"//"+y+D,i:g.protocol,h:y,k:g.hostname||b.hostname,l:v||b.port,e:l,f:g.search,b:g.hash,d:D,c:E,g:O}};var p=!f&&h||r,f={get:function(){return C()[p.location.href]||q}},P={set:function(a){d.location=a},
get:function(){return n?b:F}},F={assign:function(a){b.assign(n||0!==a.indexOf("#")?a:"#"+e().c+a)},reload:b.reload,replace:function(a){b.replace(n||0!==a.indexOf("#")?a:"#"+e().c+a)},toString:function(){return this.href}},Q=d.onpopstate||q,R=d.onhashchange||q,B=0,S=e(),A=S.a;d.addEventListener?d.addEventListener("hashchange",G,r):d.attachEvent("onhashchange",G);d.addEventListener&&(d.addEventListener("popstate",H,r),d.addEventListener("popstate",function(){s=0;B=1},r));p=x(p,h.state===k?{state:f,
location:P}:{location:P});F=x(F,{href:{set:function(a){b.href=a},get:function(){return e().a}},protocol:{set:function(a){b.protocol=a},get:function(){return b.protocol}},host:{set:function(a){b.host=a},get:function(){return b.host}},hostname:{set:function(a){b.hostname=a},get:function(){return b.hostname}},port:{set:function(a){b.port=a},get:function(){return b.port}},pathname:{set:function(a){b.pathname=a},get:function(){return e().e}},search:{set:function(a){b.search=a},get:function(){return e().f}},
hash:{set:function(a){a=0===a.indexOf("#")?a:"#"+a;var d=e();b.hash="#"+d.c+a},get:function(){return e().b}},origin:{}});"onpopstate"in d||x(d,{onhashchange:{get:function(){return R},set:function(a){R=a||q}},onpopstate:{get:function(){return Q},set:function(a){if(Q=a||q)if(!n&&s&&!(s=0)&&S.d!==M)clearInterval(q),setTimeout(t,10)}}},!0);n||document.addEventListener("click",T,r);try{new u("click")}catch(aa){u=q}u||(u=function(a){var b;b=I.createEvent("Events");b.initEvent(a,r,r);return b});p.pushState=
function(a,d,c,g){var f=C(),l=e().a,h=c&&e(c);s=0;c=h?h.a:l;g&&f[l]&&delete f[l];if((!n||X)&&w&&a)f[c]=a,C(f),a=q;J&&K?g?K.call(p,a,d,c):J.call(p,a,d,c):h&&h.d!=e().d&&(z=1,g?b.replace("#"+h.g):b.hash=h.g);a=e().c;if(!j||j!=a)t(3,j,a),j=a};p.replaceState=function(a,b,c){p.pushState(a,b,c,1)};d.history.emulate=!n;var j="",f=function(){var a=e().c;if(!j||j!=a)t(3,j,a),j=a};d.addEventListener("popstate",f);d.addEventListener("hashchange",f);f=L=f=x=k}.call(window);
